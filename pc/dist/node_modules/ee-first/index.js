/*!
 * ee-first
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */

"use strict";function first(r,e){function n(){t(),e.apply(null,arguments)}function t(){for(var r,e=0;e<o.length;e++)r=o[e],r.ee.removeListener(r.event,r.fn)}function a(r){e=r}if(!Array.isArray(r))throw new TypeError("arg must be an array of [ee, events...] arrays");for(var o=[],f=0;f<r.length;f++){var i=r[f];if(!Array.isArray(i)||i.length<2)throw new TypeError("each array member must be [ee, events...]");for(var s=i[0],l=1;l<i.length;l++){var u=i[l],h=listener(u,n);s.on(u,h),o.push({ee:s,event:u,fn:h})}}return a.cancel=t,a}function listener(r,e){return function(n){for(var t=new Array(arguments.length),a=this,o="error"===r?n:null,f=0;f<t.length;f++)t[f]=arguments[f];e(o,a,r,t)}}module.exports=first;