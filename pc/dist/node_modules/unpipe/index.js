/*!
 * unpipe
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */

"use strict";function hasPipeDataListeners(e){for(var n=e.listeners("data"),r=0;r<n.length;r++)if("ondata"===n[r].name)return!0;return!1}function unpipe(e){if(!e)throw new TypeError("argument stream is required");if("function"==typeof e.unpipe)return void e.unpipe();if(hasPipeDataListeners(e))for(var n,r=e.listeners("close"),t=0;t<r.length;t++)n=r[t],"cleanup"!==n.name&&"onclose"!==n.name||n.call(e)}module.exports=unpipe;