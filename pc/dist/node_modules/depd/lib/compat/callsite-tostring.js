/*!
 * depd
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */

"use strict";function callSiteFileLocation(e){var t,n="";if(e.isNative()?n="native":e.isEval()?(t=e.getScriptNameOrSourceURL(),t||(n=e.getEvalOrigin())):t=e.getFileName(),t){n+=t;var r=e.getLineNumber();if(null!=r){n+=":"+r;var o=e.getColumnNumber();o&&(n+=":"+o)}}return n||"unknown source"}function callSiteToString(e){var t=!0,n=callSiteFileLocation(e),r=e.getFunctionName(),o=e.isConstructor(),i=!(e.isToplevel()||o),a="";if(i){var l=e.getMethodName(),u=getConstructorName(e);r?(u&&0!==r.indexOf(u)&&(a+=u+"."),a+=r,l&&r.lastIndexOf("."+l)!==r.length-l.length-1&&(a+=" [as "+l+"]")):a+=u+"."+(l||"<anonymous>")}else o?a+="new "+(r||"<anonymous>"):r?a+=r:(t=!1,a+=n);return t&&(a+=" ("+n+")"),a}function getConstructorName(e){var t=e.receiver;return t.constructor&&t.constructor.name||null}module.exports=callSiteToString;